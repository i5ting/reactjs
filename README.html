
	    <html>
	      <head>
				  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
	        <title>README</title>
					
					<link href="toc/style/github-bf51422f4bb36427d391e4b75a1daa083c2d840e.css" media="all" rel="stylesheet" type="text/css"/>
					<link href="toc/style/github2-d731afd4f624c99a4b19ad69f3083cd6d02b81d5.css" media="all" rel="stylesheet" type="text/css"/>
					<link href="toc/css/zTreeStyle/zTreeStyle.css" media="all" rel="stylesheet" type="text/css"/>
			
				  <style>
					pre {
					    counter-reset: line-numbering;
					    border: solid 1px #d9d9d9;
					    border-radius: 0;
					    background: #fff;
					    padding: 0;
					    line-height: 23px;
					    margin-bottom: 30px;
					    white-space: pre;
					    overflow-x: auto;
					    word-break: inherit;
					    word-wrap: inherit;
					}

					pre a::before {
					  content: counter(line-numbering);
					  counter-increment: line-numbering;
					  padding-right: 1em; /* space after numbers */
					  width: 25px;
					  text-align: right;
					  opacity: 0.7;
					  display: inline-block;
					  color: #aaa;
					  background: #eee;
					  margin-right: 16px;
					  padding: 2px 10px;
					  font-size: 13px;
					  -webkit-touch-callout: none;
					  -webkit-user-select: none;
					  -khtml-user-select: none;
					  -moz-user-select: none;
					  -ms-user-select: none;
					  user-select: none;
					}

					pre a:first-of-type::before {
					  padding-top: 10px;
					}

					pre a:last-of-type::before {
					  padding-bottom: 10px;
					}

					pre a:only-of-type::before {
					  padding: 10px;
					}
			
					.highlight { background-color: #ffffcc } /* RIGHT */
					</style>
	      </head>
	      <body>
				  <div>
							<div style='width:25%;'>
									<ul id="tree" class="ztree" style='width:100%'>
		
									</ul>
							</div>
			        <div id='readme' style='width:70%;margin-left:20%;'>
			          	<article class='markdown-body'>
			            	<style>.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f0f0f0; }
.highlight .c { color: #60a0b0; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #007020; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #60a0b0; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #007020 } /* Comment.Preproc */
.highlight .c1 { color: #60a0b0; font-style: italic } /* Comment.Single */
.highlight .cs { color: #60a0b0; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #007020; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #007020; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #007020; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #007020 } /* Keyword.Pseudo */
.highlight .kr { color: #007020; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #902000 } /* Keyword.Type */
.highlight .m { color: #40a070 } /* Literal.Number */
.highlight .s { color: #4070a0 } /* Literal.String */
.highlight .na { color: #4070a0 } /* Name.Attribute */
.highlight .nb { color: #007020 } /* Name.Builtin */
.highlight .nc { color: #0e84b5; font-weight: bold } /* Name.Class */
.highlight .no { color: #60add5 } /* Name.Constant */
.highlight .nd { color: #555555; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #d55537; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #007020 } /* Name.Exception */
.highlight .nf { color: #06287e } /* Name.Function */
.highlight .nl { color: #002070; font-weight: bold } /* Name.Label */
.highlight .nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #062873; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #bb60d5 } /* Name.Variable */
.highlight .ow { color: #007020; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #40a070 } /* Literal.Number.Bin */
.highlight .mf { color: #40a070 } /* Literal.Number.Float */
.highlight .mh { color: #40a070 } /* Literal.Number.Hex */
.highlight .mi { color: #40a070 } /* Literal.Number.Integer */
.highlight .mo { color: #40a070 } /* Literal.Number.Oct */
.highlight .sb { color: #4070a0 } /* Literal.String.Backtick */
.highlight .sc { color: #4070a0 } /* Literal.String.Char */
.highlight .sd { color: #4070a0; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #4070a0 } /* Literal.String.Double */
.highlight .se { color: #4070a0; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #4070a0 } /* Literal.String.Heredoc */
.highlight .si { color: #70a0d0; font-style: italic } /* Literal.String.Interpol */
.highlight .sx { color: #c65d09 } /* Literal.String.Other */
.highlight .sr { color: #235388 } /* Literal.String.Regex */
.highlight .s1 { color: #4070a0 } /* Literal.String.Single */
.highlight .ss { color: #517918 } /* Literal.String.Symbol */
.highlight .bp { color: #007020 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #bb60d5 } /* Name.Variable.Class */
.highlight .vg { color: #bb60d5 } /* Name.Variable.Global */
.highlight .vi { color: #bb60d5 } /* Name.Variable.Instance */
.highlight .il { color: #40a070 } /* Literal.Number.Integer.Long */</style>
<h1>reactjs</h1>

<ul>
<li>代码 https://github.com/facebook/react</li>
<li>入门（中文） http://reactjs.cn/react/docs/getting-started.html</li>
</ul>

<p>React 仅仅是个 view 层！</p>

<p>基于HTML的前端界面开发正变得越来越复杂，其本质问题基本都可以归结于如何将来自于服务器端或者用户输入的动态数据高效的反映到复杂的用户界面上。而来自Facebook的React框架正是完全面向此问题的一个解决方案，按官网描述，其出发点为：用于开发数据不断变化的大型应用程序（Building large applications with data that changes over time）。相比传统型的前端开发，React开辟了一个相当另类的途径，实现了前端界面的高效率高性能开发。</p>

<p>首先，对于React，有一些认识误区，这里先总结一下：</p>

<ul>
<li>React不是一个完整的MVC框架，最多可以认为是MVC中的V（View），甚至React并不非常认可MVC开发模式；</li>
<li>React的服务器端Render能力只能算是一个锦上添花的功能，并不是其核心出发点，事实上React官方站点几乎没有提及其在服务器端的应用；</li>
<li>有人拿React和Web Component相提并论，但两者并不是完全的竞争关系，你完全可以用React去开发一个真正的Web Component；</li>
<li>React不是一个新的模板语言，JSX只是一个表象，没有JSX的React也能工作。</li>
</ul>

<p>重要事情说3遍</p>

<p>React 仅仅是个 view 层！</p>

<p>React 仅仅是个 view 层！</p>

<p>React 仅仅是个 view 层！</p>

<h2>基本概念</h2>

<h3>组件化</h3>

<p>虚拟DOM(virtual-dom)不仅带来了简单的UI开发逻辑，同时也带来了组件化开发的思想，所谓组件，即封装起来的具有独立功能的UI部件。React推荐以组件的方式去重新思考UI构成，将UI上每一个功能相对独立的模块定义成组件，然后将小的组件通过组合或者嵌套的方式构成大的组件，最终完成整体UI的构建。例如，Facebook的instagram.com整站都采用了React来开发，整个页面就是一个大的组件，其中包含了嵌套的大量其它组件，大家有兴趣可以看下它背后的代码。</p>

<p>如果说MVC的思想让你做到视图-数据-控制器的分离，那么组件化的思考方式则是带来了UI功能模块之间的分离。我们通过一个典型的Blog评论界面来看MVC和组件化开发思路的区别。</p>

<p>对于MVC开发模式来说，开发者将三者定义成不同的类，实现了表现，数据，控制的分离。开发者更多的是从技术的角度来对UI进行拆分，实现松耦合。</p>

<p>对于React而言，则完全是一个新的思路，开发者从功能的角度出发，将UI分成不同的组件，每个组件都独立封装。</p>

<p>在React中，你按照界面模块自然划分的方式来组织和编写你的代码，对于评论界面而言，整个UI是一个通过小组件构成的大组件，每个组件只关心自己部分的逻辑，彼此独立。</p>

<p><img src="img/1.png" alt=""></p>

<p>React认为一个组件应该具有如下特征：</p>

<p>（1）可组合（Composeable）：一个组件易于和其它组件一起使用，或者嵌套在另一个组件内部。如果一个组件内部创建了另一个组件，那么说父组件拥有（own）它创建的子组件，通过这个特性，一个复杂的UI可以拆分成多个简单的UI组件；</p>

<p>（2）可重用（Reusable）：每个组件都是具有独立功能的，它可以被使用在多个UI场景；</p>

<p>（3）可维护（Maintainable）：每个小的组件仅仅包含自身的逻辑，更容易被理解和维护；</p>

<p>（4）可测试（Testable）：因为每个组件都是独立的，那么对于各个组件分别测试显然要比对于整个UI进行测试容易的多。</p>

<h3>什么是JSX？</h3>

<p>在用React写组件的时候，通常会用到JSX语法，粗看上去，像是在Javascript代码里直接写起了XML标签，实质上这只是一个语法糖，每一个XML标签都会被JSX转换工具转换成纯Javascript代码，当然你想直接使用纯Javascript代码写也是可以的，只是利用JSX，组件的结构和组件之间的关系看上去更加清晰</p>

<p>更多见 http://my.oschina.net/leogao0816/blog/379487</p>

<h3>Virtual DOM</h3>

<p>Virtual DOM是reactjs的最核心概念，我拷贝一段来说明它</p>

<p>在Web开发中，我们总需要将变化的数据实时反应到UI上，这时就需要对DOM进行操作。而复杂或频繁的DOM操作通常是性能瓶颈产生的原因（如何进行高性能的复杂DOM操作通常是衡量一个前端开发人员技能的重要指标）。React为此引入了虚拟DOM（Virtual DOM）的机制：在浏览器端用Javascript实现了一套DOM API。基于React进行开发时所有的DOM构造都是通过虚拟DOM进行，每当数据变化时，React都会重新构建整个DOM树，然后React将当前整个DOM树和上一次的DOM树进行对比，得到DOM结构的区别，然后仅仅将需要变化的部分进行实际的浏览器DOM更新。而且React能够批处理虚拟DOM的刷新，在一个事件循环（Event Loop）内的两次数据变化会被合并，例如你连续的先将节点内容从A变成B，然后又从B变成A，React会认为UI不发生任何变化，而如果通过手动控制，这种逻辑通常是极其复杂的。尽管每一次都需要构造完整的虚拟DOM树，但是因为虚拟DOM是内存数据，性能是极高的，而对实际DOM进行操作的仅仅是Diff部分，因而能达到提高性能的目的。这样，在保证性能的同时，开发者将不再需要关注某个数据的变化如何更新到一个或多个具体的DOM元素，而只需要关心在任意一个数据状态下，整个界面是如何Render的。</p>

<p>说那么多你可能都没明白，上例子</p>

<h2>helloworld</h2>
<div class="highlight"><pre><span class="vg">bower</span><span class="w"> </span><span class="vg">install</span><span class="w"> </span><span class="o">--</span><span class="vg">save</span><span class="w"> </span><span class="vg">react</span>
</pre></div>
<p>创建并编写index.html</p>
<div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="c">&lt;!-- The core React library --&gt;</span>
    <span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;bower_components/react/react.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="c">&lt;!-- In-browser JSX transformer, remove when pre-compiling JSX. --&gt;</span>
    <span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;bower_components/react/JSXTransformer.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;container&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;script</span> <span class="na">type=</span><span class="s">&quot;text/jsx&quot;</span> <span class="na">src=</span><span class="s">&quot;helloworld.jsx&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
<p>编写helloworld.jsx</p>
<div class="highlight"><pre>var HelloMessage = React.createClass({
  render: function() {
    return <span class="nt">&lt;div&gt;</span>Hello {this.props.name}<span class="nt">&lt;/div&gt;</span>;
  }
});

React.render(
  <span class="nt">&lt;HelloMessage</span> <span class="na">name=</span><span class="s">&quot;John&quot;</span> <span class="nt">/&gt;</span>,
  document.getElementById(&#39;container&#39;)
);
</pre></div>
<p>然后使用http-server启动一个http服务（如果没有http-server，请[sudo]npm install -g http-server）</p>
<div class="highlight"><pre><span class="vg">http</span><span class="o">-</span><span class="vg">server</span><span class="w"> </span><span class="o">.</span><span class="w">  </span><span class="o">-</span><span class="vg">p</span><span class="w"> </span><span class="il">8044</span><span class="w"> </span><span class="o">-</span><span class="vg">o</span>
</pre></div>
<p>访问</p>
<div class="highlight"><pre><span class="nl">http:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="o">:</span><span class="il">8044</span><span class="o">/</span>
</pre></div>
<p>首先，这是一种 HTML-like 的语法，叫jsx，可以理解成coffee，typescript之类的，需要编译</p>

<p>核心就是React.render，说明这个组件放在什么地方，比如上面的例子就是</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&#39;container&#39;</span><span class="nt">&gt;</span>
  ...
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<p>这样页面就可以拆分成n个小块，每块各自为政，即所谓的组件化（也就积木一样）</p>

<p>注意：</p>

<ol>
<li>对于内联与HTML中的代码或者是未经过转化的外部文件，在script标签中要加上type=&quot;text/jsx&quot;，并引入JSXTransformer.js文件即可</li>
<li>上面使用的是helloworld.jsx，这是为了演示用的，实际reactjs建议的后缀是js</li>
<li>使用http-server可以防止chrome的本地资源跨域问题</li>
</ol>

<p>开发阶段这样写没问题，但上线的产品环境是不能这样写的，见helloworld2</p>

<h2>helloworld2（使用react-tools编译jsx）</h2>

<p>复制helloworld为helloworld2，创建dist目录存放编译后的jsx文件，把helloworld.jsx放到src/helloworld.jsx,同时修改index.html里的链接</p>
<div class="highlight"><pre><span class="o">&lt;</span><span class="vg">script</span><span class="w"> </span><span class="vg">type</span><span class="o">=</span><span class="s2">&quot;text/jsx&quot;</span><span class="w"> </span><span class="vg">src</span><span class="o">=</span><span class="s2">&quot;dist/helloworld.js&quot;</span><span class="o">&gt;</span>
</pre></div>
<p>至此准备工作就做完了，下面开始介绍使用react-tools来编译jsx，安装后就会jsx命令，我们主要靠的就是jsx来编译的</p>
<div class="highlight"><pre><span class="err">➜</span><span class="w">  </span><span class="vg">reactjs</span><span class="w"> </span><span class="nl">git:</span><span class="p">(</span><span class="vg">master</span><span class="p">)</span><span class="w"> </span><span class="err">✗</span><span class="w"> </span><span class="vg">npm</span><span class="w"> </span><span class="vg">install</span><span class="w"> </span><span class="o">-</span><span class="vg">g</span><span class="w"> </span><span class="vg">react</span><span class="o">-</span><span class="vg">tools</span>
<span class="err">➜</span><span class="w">  </span><span class="vg">reactjs</span><span class="w"> </span><span class="nl">git:</span><span class="p">(</span><span class="vg">master</span><span class="p">)</span><span class="w"> </span><span class="err">✗</span><span class="w"> </span><span class="vg">jsx</span><span class="w"> </span><span class="o">--</span><span class="vg">help</span>

<span class="w">  </span><span class="nl">Usage:</span><span class="w"> </span><span class="vg">jsx</span><span class="w"> </span><span class="p">[</span><span class="vg">options</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="vg">source</span><span class="w"> </span><span class="vg">directory</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="vg">output</span><span class="w"> </span><span class="vg">directory</span><span class="o">&gt;</span><span class="w"> </span><span class="p">[</span><span class="o">&lt;</span><span class="vg">module</span><span class="w"> </span><span class="vg">ID</span><span class="o">&gt;</span><span class="w"> </span><span class="p">[</span><span class="o">&lt;</span><span class="vg">module</span><span class="w"> </span><span class="vg">ID</span><span class="o">&gt;</span><span class="w"> </span><span class="o">...</span><span class="p">]]</span>

<span class="w">  </span><span class="nl">Options:</span>

<span class="w">    </span><span class="o">-</span><span class="vg">h</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="vg">help</span><span class="w">                               </span><span class="vg">output</span><span class="w"> </span><span class="vg">usage</span><span class="w"> </span><span class="vg">information</span>
<span class="w">    </span><span class="o">-</span><span class="vg">V</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="vg">version</span><span class="w">                            </span><span class="vg">output</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">version</span><span class="w"> </span><span class="vg">number</span>
<span class="w">    </span><span class="o">-</span><span class="vg">c</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="vg">config</span><span class="w"> </span><span class="p">[</span><span class="vg">file</span><span class="p">]</span><span class="w">                      </span><span class="vg">JSON</span><span class="w"> </span><span class="vg">configuration</span><span class="w"> </span><span class="vg">file</span><span class="w"> </span><span class="p">(</span><span class="vg">no</span><span class="w"> </span><span class="vg">file</span><span class="w"> </span><span class="vg">or</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="vg">means</span><span class="w"> </span><span class="vg">STDIN</span><span class="p">)</span>
<span class="w">    </span><span class="o">-</span><span class="vg">w</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="vg">watch</span><span class="w">                              </span><span class="vg">Continually</span><span class="w"> </span><span class="vg">rebuild</span>
<span class="w">    </span><span class="o">-</span><span class="vg">x</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="vg">extension</span><span class="w"> </span><span class="o">&lt;</span><span class="vg">js</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="vg">coffee</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">...&gt;</span><span class="w">      </span><span class="vg">File</span><span class="w"> </span><span class="vg">extension</span><span class="w"> </span><span class="vg">to</span><span class="w"> </span><span class="vg">assume</span><span class="w"> </span><span class="vg">when</span><span class="w"> </span><span class="vg">resolving</span><span class="w"> </span><span class="vg">module</span><span class="w"> </span><span class="vg">identifiers</span>
<span class="w">    </span><span class="o">--</span><span class="vg">relativize</span><span class="w">                             </span><span class="vg">Rewrite</span><span class="w"> </span><span class="vg">all</span><span class="w"> </span><span class="vg">module</span><span class="w"> </span><span class="vg">identifiers</span><span class="w"> </span><span class="vg">to</span><span class="w"> </span><span class="vg">be</span><span class="w"> </span><span class="vg">relative</span>
<span class="w">    </span><span class="o">--</span><span class="vg">follow</span><span class="o">-</span><span class="vg">requires</span><span class="w">                        </span><span class="vg">Scan</span><span class="w"> </span><span class="vg">modules</span><span class="w"> </span><span class="vg">for</span><span class="w"> </span><span class="vg">required</span><span class="w"> </span><span class="vg">dependencies</span>
<span class="w">    </span><span class="o">--</span><span class="vg">use</span><span class="o">-</span><span class="vg">provides</span><span class="o">-</span><span class="vg">module</span><span class="w">                    </span><span class="vg">Respect</span><span class="w"> </span><span class="err">@</span><span class="vg">providesModules</span><span class="w"> </span><span class="vg">pragma</span><span class="w"> </span><span class="vg">in</span><span class="w"> </span><span class="vg">files</span>
<span class="w">    </span><span class="o">--</span><span class="vg">cache</span><span class="o">-</span><span class="vg">dir</span><span class="w"> </span><span class="o">&lt;</span><span class="vg">directory</span><span class="o">&gt;</span><span class="w">                  </span><span class="vg">Alternate</span><span class="w"> </span><span class="vg">directory</span><span class="w"> </span><span class="vg">to</span><span class="w"> </span><span class="vg">use</span><span class="w"> </span><span class="vg">for</span><span class="w"> </span><span class="vg">disk</span><span class="w"> </span><span class="vg">cache</span>
<span class="w">    </span><span class="o">--</span><span class="vg">no</span><span class="o">-</span><span class="vg">cache</span><span class="o">-</span><span class="vg">dir</span><span class="w">                           </span><span class="vg">Disable</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">disk</span><span class="w"> </span><span class="vg">cache</span>
<span class="w">    </span><span class="o">--</span><span class="vg">source</span><span class="o">-</span><span class="vg">charset</span><span class="w"> </span><span class="o">&lt;</span><span class="vg">utf8</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="vg">win1252</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">...&gt;</span><span class="w">  </span><span class="vg">Charset</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">source</span><span class="w"> </span><span class="p">(</span><span class="nl">default:</span><span class="w"> </span><span class="vg">utf8</span><span class="p">)</span>
<span class="w">    </span><span class="o">--</span><span class="vg">output</span><span class="o">-</span><span class="vg">charset</span><span class="w"> </span><span class="o">&lt;</span><span class="vg">utf8</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="vg">win1252</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">...&gt;</span><span class="w">  </span><span class="vg">Charset</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">output</span><span class="w"> </span><span class="p">(</span><span class="nl">default:</span><span class="w"> </span><span class="vg">utf8</span><span class="p">)</span>
<span class="w">    </span><span class="o">--</span><span class="vg">harmony</span><span class="w">                                </span><span class="vg">Turns</span><span class="w"> </span><span class="vg">on</span><span class="w"> </span><span class="vg">JS</span><span class="w"> </span><span class="vg">transformations</span><span class="w"> </span><span class="vg">such</span><span class="w"> </span><span class="vg">as</span><span class="w"> </span><span class="vg">ES6</span><span class="w"> </span><span class="vg">Classes</span><span class="w"> </span><span class="vg">etc</span><span class="o">.</span>
<span class="w">    </span><span class="o">--</span><span class="vg">target</span><span class="w"> </span><span class="p">[</span><span class="vg">version</span><span class="p">]</span><span class="w">                       </span><span class="vg">Specify</span><span class="w"> </span><span class="vg">your</span><span class="w"> </span><span class="vg">target</span><span class="w"> </span><span class="vg">version</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">ECMAScript</span><span class="o">.</span><span class="w"> </span><span class="vg">Valid</span><span class="w"> </span><span class="vg">values</span><span class="w"> </span><span class="vg">are</span><span class="w"> </span><span class="s2">&quot;es3&quot;</span><span class="w"> </span><span class="vg">and</span><span class="w"> </span><span class="s2">&quot;es5&quot;</span><span class="o">.</span><span class="w"> </span><span class="vg">The</span><span class="w"> </span><span class="vg">default</span><span class="w"> </span><span class="vg">is</span><span class="w"> </span><span class="s2">&quot;es5&quot;</span><span class="o">.</span><span class="w"> </span><span class="s2">&quot;es3&quot;</span><span class="w"> </span><span class="vg">will</span><span class="w"> </span><span class="vg">avoid</span><span class="w"> </span><span class="vg">uses</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">defineProperty</span><span class="w"> </span><span class="vg">and</span><span class="w"> </span><span class="vg">will</span><span class="w"> </span><span class="vg">quote</span><span class="w"> </span><span class="vg">reserved</span><span class="w"> </span><span class="vg">words</span><span class="o">.</span><span class="w"> </span><span class="nl">WARNING:</span><span class="w"> </span><span class="s2">&quot;es5&quot;</span><span class="w"> </span><span class="vg">is</span><span class="w"> </span><span class="vg">not</span><span class="w"> </span><span class="vg">properly</span><span class="w"> </span><span class="vg">supported</span><span class="p">,</span><span class="w"> </span><span class="vg">even</span><span class="w"> </span><span class="vg">with</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">use</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">es5shim</span><span class="p">,</span><span class="w"> </span><span class="vg">es5sham</span><span class="o">.</span><span class="w"> </span><span class="vg">If</span><span class="w"> </span><span class="vg">you</span><span class="w"> </span><span class="vg">need</span><span class="w"> </span><span class="vg">to</span><span class="w"> </span><span class="vg">support</span><span class="w"> </span><span class="vg">IE8</span><span class="p">,</span><span class="w"> </span><span class="vg">use</span><span class="w"> </span><span class="s2">&quot;es3&quot;</span><span class="o">.</span>
<span class="w">    </span><span class="o">--</span><span class="vg">strip</span><span class="o">-</span><span class="vg">types</span><span class="w">                            </span><span class="vg">Strips</span><span class="w"> </span><span class="vg">out</span><span class="w"> </span><span class="vg">type</span><span class="w"> </span><span class="vg">annotations</span><span class="o">.</span>
<span class="w">    </span><span class="o">--</span><span class="vg">es6module</span><span class="w">                              </span><span class="vg">Parses</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">file</span><span class="w"> </span><span class="vg">as</span><span class="w"> </span><span class="vg">a</span><span class="w"> </span><span class="vg">valid</span><span class="w"> </span><span class="vg">ES6</span><span class="w"> </span><span class="vg">module</span><span class="o">.</span><span class="w"> </span><span class="p">(</span><span class="vg">Note</span><span class="w"> </span><span class="vg">that</span><span class="w"> </span><span class="vg">this</span><span class="w"> </span><span class="vg">means</span><span class="w"> </span><span class="vg">implicit</span><span class="w"> </span><span class="vg">strict</span><span class="w"> </span><span class="vg">mode</span><span class="p">)</span>
<span class="w">    </span><span class="o">--</span><span class="vg">non</span><span class="o">-</span><span class="vg">strict</span><span class="o">-</span><span class="vg">es6module</span><span class="w">                   </span><span class="vg">Parses</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">file</span><span class="w"> </span><span class="vg">as</span><span class="w"> </span><span class="vg">an</span><span class="w"> </span><span class="vg">ES6</span><span class="w"> </span><span class="vg">module</span><span class="p">,</span><span class="w"> </span><span class="vg">except</span><span class="w"> </span><span class="vg">disables</span><span class="w"> </span><span class="vg">implicit</span><span class="w"> </span><span class="vg">strict</span><span class="o">-</span><span class="vg">mode</span><span class="o">.</span><span class="w"> </span><span class="p">(</span><span class="vg">This</span><span class="w"> </span><span class="vg">is</span><span class="w"> </span><span class="vg">useful</span><span class="w"> </span><span class="vg">if</span><span class="w"> </span><span class="vg">you</span><span class="c1">&#39;re porting non-ES6 modules to ES6, but haven&#39;t yet verified that they are strict-mode safe yet)</span>
<span class="w">    </span><span class="o">--</span><span class="vg">source</span><span class="o">-</span><span class="vg">map</span><span class="o">-</span><span class="vg">inline</span><span class="w">                      </span><span class="vg">Embed</span><span class="w"> </span><span class="vg">inline</span><span class="w"> </span><span class="vg">sourcemap</span><span class="w"> </span><span class="vg">in</span><span class="w"> </span><span class="vg">transformed</span><span class="w"> </span><span class="vg">source</span>
</pre></div>
<p>安装完成后</p>
<div class="highlight"><pre><span class="err">➜</span><span class="w">  </span><span class="vg">helloworld2</span><span class="w"> </span><span class="nl">git:</span><span class="p">(</span><span class="vg">master</span><span class="p">)</span><span class="w"> </span><span class="err">✗</span><span class="w"> </span><span class="vg">jsx</span><span class="w"> </span><span class="vg">src</span><span class="o">/</span><span class="w"> </span><span class="vg">dist</span><span class="o">/</span><span class="w"> </span><span class="o">-</span><span class="vg">w</span>
<span class="p">[</span><span class="s2">&quot;helloworld&quot;</span><span class="p">]</span>
</pre></div>
<p>上面的<code>-w</code>是watch的意思，就是当src目录里的任何文件变动，就会重新编译，和gulp-watch是类似的。</p>

<p>然后执行</p>
<div class="highlight"><pre><span class="vg">http</span><span class="o">-</span><span class="vg">server</span><span class="w"> </span><span class="o">.</span><span class="w">  </span><span class="o">-</span><span class="vg">p</span><span class="w"> </span><span class="il">8045</span><span class="w"> </span><span class="o">-</span><span class="vg">o</span>
</pre></div>
<p>访问</p>
<div class="highlight"><pre><span class="nl">http:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="o">:</span><span class="il">8045</span><span class="o">/</span>
</pre></div>
<h2>helloworld3（使用gulp-react编译jsx）</h2>

<p>复制helloworld2为helloworld3</p>

<p>https://github.com/sindresorhus/gulp-react</p>

<p>安装</p>
<div class="highlight"><pre><span class="vg">npm</span><span class="w"> </span><span class="vg">install</span><span class="w"> </span><span class="o">--</span><span class="vg">save</span><span class="w"> </span><span class="vg">gulp</span><span class="o">-</span><span class="vg">react</span>
</pre></div>
<p>创建gulpfile.js</p>
<div class="highlight"><pre><span class="vg">var</span><span class="w"> </span><span class="vg">gulp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">require</span><span class="p">(</span><span class="c1">&#39;gulp&#39;);</span>
<span class="vg">var</span><span class="w"> </span><span class="vg">react</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">require</span><span class="p">(</span><span class="c1">&#39;gulp-react&#39;);</span>

<span class="vg">gulp</span><span class="o">.</span><span class="vg">task</span><span class="p">(</span><span class="c1">&#39;jsx&#39;, function () {</span>
<span class="w">    </span><span class="vg">return</span><span class="w"> </span><span class="vg">gulp</span><span class="o">.</span><span class="vg">src</span><span class="p">(</span><span class="c1">&#39;src/**&#39;)</span>
<span class="w">        </span><span class="o">.</span><span class="vg">pipe</span><span class="p">(</span><span class="vg">react</span><span class="p">())</span>
<span class="w">        </span><span class="o">.</span><span class="vg">pipe</span><span class="p">(</span><span class="vg">gulp</span><span class="o">.</span><span class="vg">dest</span><span class="p">(</span><span class="c1">&#39;dist&#39;));</span>
<span class="p">});</span>

<span class="vg">gulp</span><span class="o">.</span><span class="vg">task</span><span class="p">(</span><span class="c1">&#39;default&#39;, [&#39;jsx&#39;], function() {</span>
<span class="w">  </span><span class="vg">gulp</span><span class="o">.</span><span class="vg">watch</span><span class="p">(</span><span class="c1">&#39;./src/**/*&#39;, [&#39;jsx&#39;]);</span>
<span class="p">});</span>
</pre></div>
<ul>
<li>执行<code>gulp jsx</code>是编译src下的所有</li>
<li>执行<code>gulp</code>是编译src下的所有，并当src变动的时候也会重新编译src下的</li>
</ul>

<p>实际上helloworld2和helloworld3可以实现的功能是一样的，不过gulp更强大更丰富一些，推荐使用gulp。</p>

<p>如果各位不熟悉gulp，参见https://github.com/streakq/js-tools-best-practice/blob/master/doc/Gulp.md</p>

<p>更多jsx集成和构建工具见</p>

<ul>
<li>https://github.com/facebook/react/wiki/Complementary-Tools#jsx-integrations</li>
<li>https://github.com/facebook/react/wiki/Complementary-Tools#build-tools</li>
</ul>

<h2>helloworld4（使用webpack构建）</h2>

<p>在React里，由于需要用到JSX，使用Webpack或Browserify这类工具编译代码已经渐渐成为前端工程师工作流程的一部分。Webpack是一款强大的前端模块管理和打包工具（）。这里列出它的一些特性：</p>

<p>同时支持CommonJS和AMD模块；
灵活和可扩展的Loader（加载器）机制，例如提供对JSX、ES6、Less的支持；
支持对CSS，图片等其他资源进行打包；
可以基于配置和智能分析打包成多个文件；
内置强大的Code Splitting功能可以拆分并动态加载包；
开发模式支持Hot Module Replacement模式，提高开发效率。</p>

<p><img src="http://ipad-cms.csdn.net/cms/attachment/201508A/55bb16cd8701f.jpg" alt=""></p>

<p>webpack是什么？</p>

<p>A bundler for javascript and friends. Packs many modules into a few bundled assets. Code Splitting allows to load parts for the application on demand. Through &quot;loaders&quot; modules can be CommonJs, AMD, ES6 modules, CSS, Images, JSON, Coffeescript, LESS, ... and your custom stuff. </p>

<p>在 webpack 当中, 所有的资源都被当作是模块, js, css, 图片等，因此webpack当中 js 可以引用 css, css 中可以嵌入图片 dataUrl。对于不同的资源可以使用不同的loader(还有插件机制)，比如coffeescript 用的是 coffee-loader，各种插件参见http://webpack.github.io/docs/list-of-loaders.html</p>

<p>野史</p>

<p>Webpack 是德国开发者 Tobias Koppers 开发的模块加载器
Instagram 工程师认为这个方案很棒, 似乎还把作者招过去了</p>

<p>官方文档</p>

<p><a href="https://webpack.github.io">https://webpack.github.io</a></p>

<p>github上的源码</p>

<p><a href="https://github.com/webpack/webpack">https://github.com/webpack/webpack</a></p>

<p>如果完全不懂，可以看一下webpack入门文档 </p>

<p><a href="https://webpack.github.io/docs/tutorials/getting-started/">https://webpack.github.io/docs/tutorials/getting-started/</a></p>

<p>写了一个helloworld的nodejs程序，具体见examples/webpack/helloworld.md</p>

<ul>
<li>examples/webpack/helloworld</li>
</ul>

<p>下面的demo，根据https://webpack.github.io/docs/tutorials/getting-started/写的代码</p>

<ul>
<li>examples/webpack/web1</li>
<li>examples/webpack/web2</li>
<li>examples/webpack/loader</li>
<li>examples/webpack/bindloader</li>
</ul>

<p>下面开始看看</p>

<p>npm install --save react
npm install --save-dev webpack webpack-dev-server
npm install --save-dev jsx-loader
npm install --save-dev http-server</p>

<p>webpack-dev-server</p>

<p>webpack实践</p>

<ul>
<li>watch文件变动，编译</li>
<li>使用webpack-dev-server来做分离</li>
<li>使用react-hot-loader来livereload</li>
</ul>

<p>todo</p>

<p>说明：无论是react-tools，还是gulp和webpack只是构建的一种的方式而已，此处罗列这些的目的是想让大家了解大项目构建的可参考方式，至于使用上，可以按照个人习惯。</p>

<p>至此我们完成了4个helloworld，相信大家都已经熟悉了react的几种开发方式和入门例子，下面继续深入reactjs。</p>

<h2>带有状态的组件</h2>

<p>再来个复杂点的，下面给出的是带有状态的组件</p>

<p>见<code>examples/simple-state/src/state.js</code></p>
<div class="highlight"><pre>var Input = React.createClass({
  getInitialState: function() {
    return {value: &#39;Hello!&#39;};
  },
  handleChange: function(event) {
    this.setState({value: event.target.value});
  },
  render: function () {
    var value = this.state.value;
    return (
      <span class="nt">&lt;div&gt;</span>
        <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">value=</span><span class="s">{value}</span> <span class="na">onChange=</span><span class="s">{this.handleChange}</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;p&gt;</span>{value}<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    );
  }
});

React.render(<span class="nt">&lt;Input/&gt;</span>, document.getElementById(&#39;container&#39;));
</pre></div>
<p>然后</p>
<div class="highlight"><pre><span class="vg">http</span><span class="o">-</span><span class="vg">server</span><span class="w"> </span><span class="o">.</span><span class="w">  </span><span class="o">-</span><span class="vg">p</span><span class="w"> </span><span class="il">8046</span><span class="w"> </span><span class="o">-</span><span class="vg">o</span>
</pre></div>
<p>访问</p>
<div class="highlight"><pre><span class="nl">http:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="o">:</span><span class="il">8046</span><span class="o">/</span>
</pre></div>
<p>是不是有点像双向数据绑定的意思？感兴趣可以看看angular或vuejs或avalon，好多。。。</p>

<h2>视图相关的3个概念（属性，状态，事件）</h2>

<ul>
<li>Props（属性，就是element上的attrs，换个名字property，变成复数，即props）</li>
<li>State（写过view组件的基本都会知道，按钮有三态，Normal，Highlight，Selected，包括extjs，jquery里的大部分ui框架都是有状态的。）</li>
<li>Event（其实还应该算一个就是dom事件，上面的例子就把onChange的handler编译后的handleChange方法，这要感谢jsx）</li>
</ul>

<p>回顾一下之前的代码</p>

<p>属性部分</p>
<div class="highlight"><pre>return <span class="nt">&lt;div&gt;</span>Hello {this.props.name}<span class="nt">&lt;/div&gt;</span>;
</pre></div>
<p>状态部分</p>
<div class="highlight"><pre><span class="vg">var</span><span class="w"> </span><span class="vg">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">this</span><span class="o">.</span><span class="vg">state</span><span class="o">.</span><span class="vg">value</span><span class="p">;</span>
</pre></div>
<p>事件绑定</p>
<div class="highlight"><pre><span class="o">&lt;</span><span class="vg">input</span><span class="w"> </span><span class="vg">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="w"> </span><span class="vg">value</span><span class="o">=</span><span class="p">{</span><span class="vg">value</span><span class="p">}</span><span class="w"> </span><span class="vg">onChange</span><span class="o">=</span><span class="p">{</span><span class="vg">this</span><span class="o">.</span><span class="vg">handleChange</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
</pre></div>
<p>了解了上面这些，就可以写代码了，因为</p>

<ul>
<li>属性，解决了view的定义问题，即语义描述</li>
<li>状态，是view的有穷状态机，根据状态决定ui和行为</li>
<li>事件，是view里元素的行为</li>
</ul>

<p>单独的view的话，实际上上面的东西已经足够了，但是往往我们用的时候是view和viewController一起用的。</p>

<p>但reactjs里并没有却分这个，也就是说view和controller都在组件里，比如ios的但是往往我们用的时候是view和viewController里就有很多生命周期方法，这些在reackjs里也被实现了</p>

<h2>组件的生命周期</h2>

<p>组件的生命周期，另外的名字是状态回调，和上面讲的状态的唯一差别，上面的状态是它里面的元素，而组件的生命周期是它自己</p>

<p>组件的生命周期分成三个状态：</p>

<ul>
<li>Mounting：已插入真实 DOM</li>
<li>Updating：正在被重新渲染</li>
<li>Unmounting：已移出真实 DOM</li>
</ul>

<p>React 为每个状态都提供了两种处理函数，will 函数在进入状态之前调用，did 函数在进入状态之后调用，三种状态共计五种处理函数。</p>

<ul>
<li>componentWillMount()</li>
<li>componentDidMount()</li>
<li>componentWillUpdate(object nextProps, object nextState)</li>
<li>componentDidUpdate(object prevProps, object prevState)</li>
<li>componentWillUnmount()</li>
</ul>

<p>此外，React 还提供两种特殊状态的处理函数。</p>

<ul>
<li>componentWillReceiveProps(object nextProps)：已加载组件收到新的参数时调用</li>
<li>shouldComponentUpdate(object nextProps, object nextState)：组件判断是否重新渲染时调用</li>
</ul>

<h2>组件的嵌套</h2>

<p>React是基于组件化的开发，那么组件化开发最大的优点是什么？毫无疑问，当然是复用，下面我们来看看React中到底是如何实现组件的复用的，这里我们还写一个例子来说吧，代码如下：</p>
<div class="highlight"><pre>var Search = React.createClass({
  render: function() {
    return (
      <span class="nt">&lt;div&gt;</span>
         {this.props.searchType}:<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;button&gt;</span>Search<span class="nt">&lt;/button&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    );
  }
});
var Page = React.createClass({
  render: function() {
    return (
      <span class="nt">&lt;div&gt;</span>
         <span class="nt">&lt;h1&gt;</span>Welcome!<span class="nt">&lt;/h1&gt;</span>
         <span class="nt">&lt;Search</span> <span class="na">searchType=</span><span class="s">&quot;Title&quot;</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;Search</span>  <span class="na">searchType=</span><span class="s">&quot;Content&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    );
  }
});
React.render(
  <span class="nt">&lt;Page</span> <span class="nt">/&gt;</span>,
  document.getElementById(&#39;container&#39;)
);
</pre></div>
<p>这里我们创建了一个Search组件，然后又创建了一个Page组件，然后我们在Page组件中调用Search组件，并且调用了两次，这里我们通过属性searchType传入值</p>

<p>这里是出于演示，写在一起了，如果是拆开呢？</p>

<p>下面再来看一下上面讨论的组件化吧</p>

<p><img src="img/1.png" alt=""></p>

<h2>约定</h2>

<p>1、ReactJs是基于组件化的开发，所以最终你的页面应该是由若干个小组件组成的大组件。</p>

<p>2、可以通过属性，将值传递到组件内部，同理也可以通过属性将内部的结果传递到父级组件(留给大家研究)；要对某些值的变化做DOM操作的，要把这些值放到state中。</p>

<p>3、为组件添加外部css样式时，类名应该写成className而不是class;添加内部样式时，应该是style={{opacity: this.state.opacity}}而不是style=&quot;opacity:{this.state.opacity};&quot;。</p>

<p>4、组件名称首字母必须大写。</p>

<p>5、变量名用{}包裹，且不能加双引号。</p>

<h2>实战：Tab</h2>

<p>https://github.com/supnate/react-tab-selector</p>

<p>以我写的tab为例子</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;wrap1&quot;</span><span class="nt">&gt;</span>
 <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&#39;i5ting_tab_header&#39;</span><span class="nt">&gt;</span> 
   <span class="nt">&lt;ul&gt;</span>
     <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;current&quot;</span><span class="nt">&gt;</span>
       <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span><span class="nt">&gt;</span>tab说明<span class="nt">&lt;/a&gt;</span>    
     <span class="nt">&lt;/li&gt;</span>
     <span class="nt">&lt;li&gt;</span>
       <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span><span class="nt">&gt;</span>特性<span class="nt">&lt;/a&gt;</span>
     <span class="nt">&lt;/li&gt;</span>
     <span class="nt">&lt;li&gt;</span>
       <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span><span class="nt">&gt;</span>开源协议<span class="nt">&lt;/a&gt;</span>
     <span class="nt">&lt;/li&gt;</span>
     <span class="nt">&lt;li&gt;</span>
       <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span><span class="nt">&gt;</span>源码<span class="nt">&lt;/a&gt;</span>
     <span class="nt">&lt;/li&gt;</span>
     <span class="nt">&lt;li&gt;</span>
       <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span><span class="nt">&gt;</span>张婷作品<span class="nt">&lt;/a&gt;</span>
     <span class="nt">&lt;/li&gt;</span>
   <span class="nt">&lt;/ul&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;i5ting_tab_content&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;i5ting_tab_content_item current_content&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;br/&gt;</span>
          i5ting-jquery-tab
          <span class="nt">&lt;br/&gt;&lt;br/&gt;</span>
          <span class="nt">&lt;p&gt;</span>说明<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;ol&gt;</span>
            <span class="nt">&lt;li&gt;</span>1. a copy of iciba.com tab implement <span class="nt">&lt;/li&gt;</span>
            <span class="nt">&lt;li&gt;</span>2. 基于jQuery插件机制<span class="nt">&lt;/li&gt;</span>
            <span class="nt">&lt;li&gt;</span>3. 可配置<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;/ol&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;i5ting_tab_content_item&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;br/&gt;</span>
          i5ting-jquery-tab
        <span class="nt">&lt;br/&gt;&lt;br/&gt;</span>
        <span class="nt">&lt;p&gt;</span>特性<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;ol&gt;</span>
            <span class="nt">&lt;li&gt;</span>1. jquery插件，支持配置<span class="nt">&lt;/li&gt;</span>
            <span class="nt">&lt;li&gt;</span>2. 显示隐藏按钮，可配置<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;/ol&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;i5ting_tab_content_item&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;br/&gt;</span>
          apache 2.0
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;i5ting_tab_content_item&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;br/&gt;</span>
          源码位于
          <span class="nt">&lt;br/&gt;</span>
          https://github.com/i5ting/i5ting-jquery-tab.git
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;i5ting_tab_content_item&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;br/&gt;</span>
          作者：张婷
          <span class="nt">&lt;br/&gt;</span>
          我女朋友，css和js有很多是她写，重构部分是我写的
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<p>调用方式</p>
<div class="highlight"><pre><span class="w">    </span><span class="err">$</span><span class="p">(</span><span class="c1">&#39;.wrap1&#39;).i5ting_jquery_tab({</span>
<span class="w">        </span><span class="vg">fix_height</span><span class="w"> </span><span class="o">:</span><span class="c1">&#39;200px&#39;,</span>
<span class="w">        </span><span class="nl">tab_changed:</span><span class="vg">function</span><span class="p">(</span><span class="vg">current_index</span><span class="p">){</span>
<span class="w">            </span><span class="vg">console</span><span class="o">.</span><span class="vg">log</span><span class="p">(</span><span class="vg">current_index</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">});</span>
</pre></div>
<p>修改为</p>
<div class="highlight"><pre><span class="c1">// $(&#39;.wrap1&#39;).i5ting_jquery_tab({</span>
<span class="c1">//     fix_height :&#39;200px&#39;,</span>
<span class="c1">//     tab_changed:function(current_index){</span>
<span class="c1">//         console.log(current_index);</span>
<span class="c1">//     }</span>
<span class="c1">// });</span>

<span class="k">var</span> <span class="n">tab_changed</span> <span class="o">=</span> <span class="k">function</span><span class="p">(</span><span class="n">current_index</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="n">current_index</span><span class="p">);</span>
<span class="p">};</span>

<span class="n">React</span><span class="p">.</span><span class="n">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="n">ReactTab</span> <span class="n">fix_height</span><span class="o">=</span><span class="s">&quot;200px&quot;</span> 
    <span class="n">tab_changed</span><span class="o">=</span><span class="p">{</span><span class="n">tab_changed</span><span class="p">}</span><span class="o">/&gt;</span><span class="p">,</span>
  <span class="n">document</span><span class="p">.</span><span class="n">getElementById</span><span class="p">(&#39;</span><span class="n">wrap1</span><span class="p">&#39;)</span>
<span class="p">);</span>
</pre></div>
<h3>第一步实现TabHeader</h3>
<div class="highlight"><pre><span class="o">&lt;</span><span class="vg">TabHeader</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="vg">TabHeaderItem</span><span class="w"> </span>
<span class="w">    </span><span class="vg">current</span>
<span class="w">    </span><span class="vg">title</span><span class="o">=</span><span class="s2">&quot;tab说明&quot;</span>
<span class="w">  </span><span class="o">/&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="vg">TabHeaderItem</span><span class="w"> </span>
<span class="w">    </span><span class="vg">title</span><span class="o">=</span><span class="s2">&quot;特性&quot;</span>
<span class="w">  </span><span class="o">/&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="vg">TabHeaderItem</span><span class="w"> </span>
<span class="w">    </span><span class="vg">title</span><span class="o">=</span><span class="s2">&quot;开源协议&quot;</span>
<span class="w">  </span><span class="o">/&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="vg">TabHeaderItem</span><span class="w"> </span>
<span class="w">    </span><span class="vg">title</span><span class="o">=</span><span class="s2">&quot;源码&quot;</span>
<span class="w">  </span><span class="o">/&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="vg">TabHeaderItem</span><span class="w"> </span>
<span class="w">    </span><span class="vg">title</span><span class="o">=</span><span class="s2">&quot;张婷作品&quot;</span>
<span class="w">  </span><span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="vg">TabHeader</span><span class="o">/&gt;</span>
</pre></div>
<p>首先实现TabHeaderItem</p>

<p>根据上面的结构</p>
<div class="highlight"><pre> <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;current&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span><span class="nt">&gt;</span>tab说明<span class="nt">&lt;/a&gt;</span>    
 <span class="nt">&lt;/li&gt;</span>
</pre></div>
<p>转成</p>
<div class="highlight"><pre><span class="o">&lt;</span><span class="vg">TabHeaderItem</span><span class="w"> </span>
<span class="w">  </span><span class="vg">current</span>
<span class="w">  </span><span class="vg">title</span><span class="o">=</span><span class="s2">&quot;tab说明&quot;</span>
<span class="o">/&gt;</span>
</pre></div>
<p>所以见src/tab_header_item.jsx</p>
<div class="highlight"><pre>var TabHeaderItem = React.createClass({
  render: function() {
    var cls = this.props.current ? &quot;current&quot; : &quot;&quot;;
    return (
      <span class="nt">&lt;li</span> <span class="na">className=</span><span class="s">{cls}</span><span class="nt">&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span><span class="nt">&gt;</span>{this.props.title} <span class="nt">&lt;/a&gt;</span>
      <span class="nt">&lt;/li&gt;</span>
    );
  }
});

exports = module.exports = TabHeaderItem;
</pre></div>
<p>此处的要点是</p>

<ul>
<li>className要根据配置的current来判定，如果有，即class就是current</li>
<li>再有就是类似模板的{this.props.title}插写方式</li>
</ul>

<p>下面看TabHeader</p>
<div class="highlight"><pre>var TabHeader = React.createClass({
  render: function() {

  var cls = &quot;i5ting_tab_header&quot;;
    return (
      <span class="nt">&lt;div</span> <span class="na">className=</span><span class="s">&quot;i5ting_tab_header&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ul&gt;</span> {this.props.children}<span class="nt">&lt;/ul&gt;</span> 
      <span class="nt">&lt;/div&gt;</span>
    );
  }
});
</pre></div>
<ul>
<li>注意是className而不是class</li>
<li>this.props.children用于嵌套TabHeaderItem</li>
</ul>

<p>处理tab的点击时间</p>
<div class="highlight"><pre><span class="w">  </span><span class="nl">componentDidMount:</span><span class="w"> </span><span class="vg">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">$</span><span class="p">(</span><span class="vg">this</span><span class="o">.</span><span class="vg">getDOMNode</span><span class="p">())</span><span class="o">.</span><span class="vg">click</span><span class="p">(</span><span class="vg">function</span><span class="p">(){</span>
<span class="w">      </span><span class="vg">var</span><span class="w"> </span><span class="vg">container_li</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">$</span><span class="p">(</span><span class="vg">this</span><span class="p">);</span>
<span class="w">      </span><span class="err">$</span><span class="p">(</span><span class="vg">container_li</span><span class="p">)</span><span class="o">.</span><span class="vg">addClass</span><span class="p">(</span><span class="c1">&#39;current&#39;).siblings().removeClass(&#39;current&#39;);</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">  </span><span class="p">},</span>
</pre></div>
<p>说明</p>

<ul>
<li>this.getDOMNode() 是当前对象的dom节点，绑定事件应该以此为起点</li>
</ul>

<h3>tabcontent</h3>
<div class="highlight"><pre>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;i5ting_tab_content&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;i5ting_tab_content_item current_content&quot;</span><span class="nt">&gt;</span>

      <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;i5ting_tab_content_item&quot;</span><span class="nt">&gt;</span>

      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
</pre></div>
<p>调用如下</p>
<div class="highlight"><pre>var TabHeaderItem   = require(&#39;./tab_header_item.jsx&#39;);
var TabHeader       = require(&#39;./tab_header.jsx&#39;);

var TabContentItem   = require(&#39;./tab_content_item.jsx&#39;);
var TabContent       = require(&#39;./tab_content.jsx&#39;);

var Tab              = require(&#39;./tab.jsx&#39;);

React.render(
  <span class="nt">&lt;Tab&gt;</span>
    <span class="nt">&lt;TabHeader&gt;</span>
      <span class="nt">&lt;TabHeaderItem</span>
        <span class="err">current</span>
        <span class="na">title=</span><span class="s">&quot;tab说明&quot;</span>
      <span class="nt">/&gt;</span>
      <span class="nt">&lt;TabHeaderItem</span>
        <span class="na">title=</span><span class="s">&quot;特性&quot;</span>
      <span class="nt">/&gt;</span>
      <span class="nt">&lt;TabHeaderItem</span>
        <span class="na">title=</span><span class="s">&quot;开源协议&quot;</span>
      <span class="nt">/&gt;</span>
      <span class="nt">&lt;TabHeaderItem</span>
        <span class="na">title=</span><span class="s">&quot;源码&quot;</span>
      <span class="nt">/&gt;</span>
      <span class="nt">&lt;TabHeaderItem</span>
        <span class="na">title=</span><span class="s">&quot;张婷作品&quot;</span>
      <span class="nt">/&gt;</span>
    <span class="nt">&lt;/TabHeader&gt;</span>
    <span class="nt">&lt;TabContent&gt;</span>
      <span class="nt">&lt;TabContentItem</span> <span class="err">current</span><span class="nt">&gt;</span>
        <span class="nt">&lt;p&gt;</span>tab说明<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;/TabContentItem&gt;</span>
      <span class="nt">&lt;TabContentItem&gt;</span>
        特性
      <span class="nt">&lt;/TabContentItem&gt;</span>
      <span class="nt">&lt;TabContentItem&gt;</span>
        开源协议
      <span class="nt">&lt;/TabContentItem&gt;</span>

      <span class="nt">&lt;TabContentItem&gt;</span>
        源码
      <span class="nt">&lt;/TabContentItem&gt;</span>
      <span class="nt">&lt;TabContentItem&gt;</span>
        <span class="nt">&lt;p&gt;</span>张婷作品<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;/TabContentItem&gt;</span>
    <span class="nt">&lt;/TabContent&gt;</span>
  <span class="nt">&lt;/Tab&gt;</span>
  ,
  document.getElementById(&#39;wrap1&#39;)
);
</pre></div>
<h3>精简写法</h3>

<p>tab4</p>
<div class="highlight"><pre>var TabHeaderItem   = require(&#39;./tab_header_item.jsx&#39;);
var TabHeader       = require(&#39;./tab_header.jsx&#39;);

var TabContentItem   = require(&#39;./tab_content_item.jsx&#39;);
var TabContent       = require(&#39;./tab_content.jsx&#39;);

var Tab              = require(&#39;./tab.jsx&#39;);

var data = [&#39;tab说明&#39;,&#39;特性&#39;,&#39;开源协议&#39;,&#39;源码&#39;,&#39;张婷作品&#39;];

React.render(
  <span class="nt">&lt;Tab</span> <span class="na">headers=</span><span class="s">{data}</span> <span class="na">current_tab_index=</span><span class="s">0</span><span class="nt">&gt;</span>
    <span class="nt">&lt;TabContent&gt;</span>
      <span class="nt">&lt;TabContentItem&gt;</span>
        <span class="nt">&lt;p&gt;</span>tab说明<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;/TabContentItem&gt;</span>
      <span class="nt">&lt;TabContentItem&gt;</span>
        特性
      <span class="nt">&lt;/TabContentItem&gt;</span>
      <span class="nt">&lt;TabContentItem&gt;</span>
        开源协议
      <span class="nt">&lt;/TabContentItem&gt;</span>
      <span class="nt">&lt;TabContentItem&gt;</span>
        源码
      <span class="nt">&lt;/TabContentItem&gt;</span>
      <span class="nt">&lt;TabContentItem&gt;</span>
        <span class="nt">&lt;p&gt;</span>张婷作品<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;/TabContentItem&gt;</span>
    <span class="nt">&lt;/TabContent&gt;</span>
  <span class="nt">&lt;/Tab&gt;</span>
  ,
  document.getElementById(&#39;wrap1&#39;)
);
</pre></div>
<p>此例的难点在于，把header用数组来表示，根据header生成对应的TabHeader和TabHeaderItem而已。</p>
<div class="highlight"><pre>var TabHeaderItem   = require(&#39;./tab_header_item.jsx&#39;);
var TabHeader       = require(&#39;./tab_header.jsx&#39;);

var Tab = React.createClass({
  getInitialState: function() {
    return {tabContentDefault: 0};
  },

  render: function() {
    var default_index = this.props.current_tab_index;

    // this.setState({tabContentDefault: default_index});
    var h = []
    for (var i = 0; i <span class="nt">&lt; this.props.headers.length</span><span class="err">;</span> <span class="err">i++)</span> <span class="err">{</span>
      <span class="err">var</span> <span class="na">title =</span> <span class="s">this.props.headers[i];</span>

      <span class="err">if</span> <span class="err">(</span><span class="na">default_index =</span><span class="s">==</span> <span class="err">i)</span> <span class="err">{</span>
        <span class="err">h.push(&lt;TabHeaderItem</span> <span class="err">current</span> <span class="na">title=</span><span class="s">{title}/</span><span class="nt">&gt;</span>)
      }else{
        h.push(<span class="nt">&lt;TabHeaderItem</span> <span class="na">title=</span><span class="s">{title}/</span><span class="nt">&gt;</span>)
      }
    }

    var eles = this.props.children.props.children;

    for (var i = 0; i <span class="nt">&lt; eles.length</span><span class="err">;</span> <span class="err">i++)</span> <span class="err">{</span>
      <span class="err">var</span> <span class="na">aa =</span><span class="s">eles[i];</span>
      <span class="err">if</span> <span class="err">(</span><span class="na">default_index =</span><span class="s">==</span> <span class="err">i)</span> <span class="err">{</span>
        <span class="na">aa.props.current =</span> <span class="s">true;</span>
      <span class="err">}</span>
    <span class="err">}</span>

    <span class="err">var</span> <span class="na">cls =</span> <span class="s">&quot;wrap1&quot;</span><span class="err">;</span>

    <span class="err">return</span> <span class="err">(</span>
      <span class="err">//not</span> <span class="err">class</span> <span class="err">but</span> <span class="err">className</span>
      <span class="err">&lt;div</span> <span class="na">className=</span><span class="s">{cls}</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ul&gt;</span> 
          <span class="nt">&lt;TabHeader&gt;</span>
            {h}
          <span class="nt">&lt;/TabHeader&gt;</span>
          {this.props.children}
        <span class="nt">&lt;/ul&gt;</span> 
      <span class="nt">&lt;/div&gt;</span>
    );
  }
});

exports = module.exports = Tab;
</pre></div>
<p>其实还是遍历this.props.children，然后通过reactElement数组来构建。</p>

<h3>tab5</h3>

<p>具体用法如下</p>
<div class="highlight"><pre>var TabItem  = require(&#39;./tab_item.jsx&#39;);
var Tab      = require(&#39;./tab.jsx&#39;);

var callback = function(key){

}

React.render(
  <span class="nt">&lt;Tab</span> <span class="na">tab_changed=</span><span class="s">{callback}</span><span class="nt">&gt;</span>
    <span class="nt">&lt;TabItem</span> <span class="na">title=</span><span class="s">&quot;tab说明&quot;</span> <span class="err">current</span><span class="nt">&gt;</span>
      <span class="nt">&lt;p&gt;</span>tab说明<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/TabItem&gt;</span>
    <span class="nt">&lt;TabItem</span> <span class="na">title=</span><span class="s">&quot;&#39;特性&#39;&quot;</span><span class="nt">&gt;</span>
      特性
    <span class="nt">&lt;/TabItem&gt;</span>
    <span class="nt">&lt;TabItem</span> <span class="na">title=</span><span class="s">&quot;开源协议&quot;</span><span class="nt">&gt;</span>
      开源协议
    <span class="nt">&lt;/TabItem&gt;</span>
    <span class="nt">&lt;TabItem</span> <span class="na">title=</span><span class="s">&quot;源码&quot;</span><span class="nt">&gt;</span>
      源码
    <span class="nt">&lt;/TabItem&gt;</span>
    <span class="nt">&lt;TabItem</span> <span class="na">title=</span><span class="s">&quot;张婷作品&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;p&gt;</span>张婷作品<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/TabItem&gt;</span>
  <span class="nt">&lt;/Tab&gt;</span>
  ,
  document.getElementById(&#39;wrap1&#39;)
);
</pre></div>
<p>组件拆分</p>

<ul>
<li>tab

<ul>
<li>tab-item</li>
<li>tab-header

<ul>
<li>tab-header-item</li>
<li>tab-header-item</li>
</ul></li>
<li>tab-content

<ul>
<li>tab-content-item</li>
<li>tab-content-item</li>
</ul></li>
</ul></li>
</ul>

<p>拆啊拆，拆成这样是不是也是醉了？</p>

<p>难点在于，根据tab-item信息，生成header和content，而且是内置多个，烦死了</p>

<p>以header举例</p>
<div class="highlight"><pre>var TabHeaderItem   = require(&#39;./tab_header_item.jsx&#39;);

var TabHeader = React.createClass({
  render: function() {
    var arr = [];
    for(var i = 0; i<span class="nt">&lt; this.props.children.length</span><span class="err">;</span> <span class="err">i++){</span>
      <span class="err">var</span> <span class="na">a =</span> <span class="s">this.props.children[i].props;</span>
      <span class="err">if(a.current){</span>
        <span class="err">arr.push(</span>
          <span class="err">&lt;TabHeaderItem</span>
          <span class="err">current</span>
          <span class="na">title=</span><span class="s">{a.title}/</span><span class="nt">&gt;</span>
        );
      }else{
        arr.push(
          <span class="nt">&lt;TabHeaderItem</span>
          <span class="na">title=</span><span class="s">{a.title}/</span><span class="nt">&gt;</span>
        );
      }
    }
    return (
      //not class but className
      <span class="nt">&lt;div</span> <span class="na">className=</span><span class="s">&quot;i5ting_tab_header&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ul&gt;</span> {arr}<span class="nt">&lt;/ul&gt;</span> 
      <span class="nt">&lt;/div&gt;</span>
    );
  }
});

exports = module.exports = TabHeader;
</pre></div>
<p>content和header的实现是一样，所以自己看吧。</p>

<p>留一个作业：如何实现tab_changed回调？</p>

<h2>tab6</h2>

<p>ajax</p>

<h2>推荐阅读</h2>

<ul>
<li><a href="http://www.ruanyifeng.com/blog/2015/03/react.html">React 入门实例教程</a></li>
<li>http://segmentfault.com/a/1190000002559219</li>
<li>http://my.oschina.net/leogao0816/blog/379487</li>
<li><p><a href="http://www.infoq.com/cn/articles/subversion-front-end-ui-development-framework-react">颠覆式前端UI开发框架</a></p></li>
<li><p><a href="http://facebook.github.io/react/docs/jsx-in-depth.html">JSX in Depth</a></p></li>
<li><p><a href="http://facebook.github.io/react/docs/jsx-spread.html">JSX Spread Attributes</a></p></li>
<li><p><a href="http://facebook.github.io/react/tips/if-else-in-JSX.html">If-Else in JSX</a></p></li>
<li><p><a href="http://facebook.github.io/react/docs/jsx-gotchas.html">JSX Gotchas</a></p></li>
</ul>

<p>webpack</p>

<ul>
<li><a href="https://github.com/petehunt/webpack-howto">https://github.com/petehunt/webpack-howto</a></li>
</ul>

<p>redux</p>

<ul>
<li><a href="http://rackt.github.io/redux/docs/introduction/PriorArt.html">http://rackt.github.io/redux/docs/introduction/PriorArt.html</a></li>
<li><a href="https://github.com/paulwittmann/redux-offline-docs">https://github.com/paulwittmann/redux-offline-docs</a></li>
</ul>

<h2>推荐组件</h2>

<h3>react-draggable-tab</h3>

<p>可拖拽的tab，是个不错的项目</p>

<p>https://github.com/georgeOsdDev/react-draggable-tab</p>

<p>它其实最大的不一样是，引入了一个拖拽组件react-draggable，按照接口调用即可</p>

<p>https://github.com/mzabriskie/react-draggable</p>

<h2>最佳实践</h2>

<h3>reactinspire 精彩案例</h3>

<p>http://reactinspire.com/</p>

<p>需要自备梯子</p>

<h3>yarsk = Yet Another React Starter Kit</h3>

<p>https://github.com/bradleyboy/yarsk/</p>

<h3>react-hot-boilerplate</h3>

<p>Minimal live-editing boilerplate for your next ReactJS project</p>

<p>https://github.com/gaearon/react-hot-boilerplate</p>

<h3>react-hot-loader</h3>

<p>React Hot Loader is a plugin for Webpack that allows instantaneous live refresh without losing state while editing React components.</p>

<p>http://gaearon.github.io/react-hot-loader/getstarted/</p>

<h3>reapp.io 移动端</h3>

<p>reapp.io</p>

<h3>ant-design</h3>

<p>https://github.com/ant-design</p>

<p>特性</p>

<ul>
<li>提炼自企业级后台产品的交互语言和视觉风格。</li>
<li>丰富实用的 React UI 组件。</li>
<li>基于 React 的组件化开发模式。</li>
<li>背靠 npm 生态圈。</li>
<li>基于 webpack 的调试构建方案，支持 ES6。</li>
</ul>

<p>我们来换一种说法</p>

<ul>
<li>基于react组件化</li>
<li>代码在npm里，做到模块化</li>
<li>通过webpack构建，更灵活</li>
</ul>

<p>至于说es几，那只是噱头而已</p>

<p>通过npm，可以更好的和nodejs结合，利用node的生态来扩展，其实bower等也类似，但对package.json不友好，所以我是很看好这种方式的。</p>

<p>以后js大一统，npm就不在只是nodejs package manager的，而是js package manager</p>

<p>另外它的界面设计的很好，模块化的做的也很好，我非常喜欢，唯一的缺点是它对nodejs的版本要求太高了，会让一小部分人不适应的。</p>

<h2>总结</h2>

<p>总结一下，关于reactjs，我没有讲virtual dom，而是主要讲了5个概念</p>

<ul>
<li>属性</li>
<li>状态</li>
<li>事件</li>
<li>生命周期</li>
<li>组件嵌套</li>
</ul>

<p>如果你掌握了这5点，实际上就已经可以很好的使用reactjs了，比如一般view是要和ajax放到一起用的，这时候，只要在组件的生命周期里处理即可，实际上也还是上面的东西，此处就不罗嗦了。</p>

<h2>todo（reactjs高级篇）</h2>

<ul>
<li>加点 路由和 数据单向流的 东西吧</li>
<li>或者 是服务器端渲染的 数据请求逻辑 什么的</li>
<li>如果能用redux 和express做个例子 那就更好了</li>
</ul>

<h3>Flux</h3>

<p>https://github.com/facebook/flux</p>

<p>也许 React 开发中，最让人反感的还是“Flux”。 远比 React 自身混乱。“Flux”这个名字就很让人费解。</p>

<p>Flux 并不是真实存在的。它只是一个概念，而不是个类库。幸运的是，存在一个类库，在某种程度上：</p>

<p>“相比于一个框架，Flux 更像是一种模式。”</p>

<p>呃。一个最不恰当的名字：React 并没有重塑最近 40 年的 UI 体系的知识，也没有为数据管理带来新的概念。</p>

<p>Flux 的概念很简单，view 层触发了一个事件（比如说，用户在文本域中输入了一个姓名），这个事件更新了 model，然后 model 触发了一个事件，view 响应了 model 的事件，使用最新的数据进行渲染。就这样。</p>

<p>这一数据流/解耦观察者模式被设计来保证你的资源总存在于内存/模式中。这是一件好事™。</p>

<p>Flux 的坏处是每个人都会重新发明轮子。由于没有在事件库，model 层，AJAX 层等达成一致，出现了很多种“Flux”的实现方式，并且它们彼此之间相互混杂。</p>

<h3>Redux</h3>

<h2>FAQ</h2>

<h3>很多人最常问的问题：比如和jQuery集成可以吗？</h3>

<p>reactjs很小，并没有jq提供的功能，可以说它们是互补的，可以结合着使用</p>

<p>看一下ant-design去，里面就用到了jQuery</p>

<h3>react比angular好用吗？</h3>

<p>reactjs是组件化的最佳实践，但angularjs的mvvm等好用功能，它是没有的，所以更好用说不上，姑且可以认为各有千秋吧</p>

<h3>reactjs只是客户端的么？</h3>

<p>是有服务器端的react实践的，不过我推荐用客户端的，前后端分离是比较好的，但不排除某种场景使用服务器端react。</p>

<ul>
<li><a href="https://www.npmjs.com/package/react-server-example">服务端渲染 React</a></li>
</ul>

<h3>我该用 React 吗？</h3>

<p>简单回答：是。</p>

<p>详尽的回答：很不幸，是的，在大多数场景中。</p>

<p>下面是为什么要用 React：</p>

<p>对团队开发来说表现的很出色</p>

<ul>
<li>加强了 UI 和 工作流模式 UI 代码的可读和可维护性。</li>
<li>组件化的 UI 是 web 开发的趋势，并且你现在应该开始了。</li>
</ul>

<p>下面是为什么在你选择之前需要再考虑一下：</p>

<ul>
<li>一开始 React 会极大地减慢你的开发。理解props、state以及组件通信如何工作并不是很简单，并且文档信息错综复杂。理论上，这将会被克服，你的整个团队都上道之后，开发速度上就会有一个很大的提升</li>
<li>React 不支持 IE8 以下的任何浏览器，以后也绝不会</li>
<li>如果你的应用/站点不需要频繁的动态页面更新，你可能为了很小的功能而编写大量的代码</li>
<li>你会改造很多轮子。React 很年轻，并且因为没有权威的方式来处理事件、组件通信，你必须从零开始创建大量的组件库。你的应用是否有下拉菜单，可调整大小的窗口，或者 lightbox？你同样必须从零开始写这些</li>
</ul>

<p>以上摘自http://blog.andrewray.me/reactjs-for-stupid-people/</p>

			          	</article>
			        </div>
					</div>
	      </body>
	    </html>
			<script type="text/javascript" src="toc/js/jquery-1.4.4.min.js"></script>
			<script type="text/javascript" src="toc/js/jquery.ztree.all-3.5.min.js"></script>
			<script type="text/javascript" src="toc/js/ztree_toc.js"></script>
      <script type="text/javascript" src="toc/toc_conf.js"></script>
      
			<SCRIPT type="text/javascript" >
			<!--
			$(document).ready(function(){
          var css_conf = eval(markdown_panel_style);
          $('#readme').css(css_conf)
          
          var conf = eval(jquery_ztree_toc_opts);
  				$('#tree').ztree_toc(conf);

				
			});
			//-->
			</SCRIPT>
	  